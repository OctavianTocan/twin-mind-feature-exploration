<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Listening & Notes UI Clone</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons (used for the Ask, Back, and Down Arrow icons) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
      /* We are now using the system's default sans-serif font stack (ui-sans-serif) */

      :root {
        --primary-blue: #0a74da;
        --primary-red: #e74c3c;
      }

      body {
        /* Using Tailwind's default sans-serif stack as requested */
        background-color: #f0f4f8; /* Light gray background to simulate outer phone casing */
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        padding: 10px;
      }

      /* Main container to simulate the mobile screen */
      .mobile-screen {
        width: 100%;
        max-width: 400px; /* Typical phone width */
        height: 90vh; /* Make it tall to show scrollable content */
        max-height: 800px;
        background-color: white;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        display: flex;
        flex-direction: column;
      }

      /* Styling for the tab indicator line */
      .tab-indicator {
        position: absolute;
        bottom: 0;
        height: 3px;
        background-color: var(--primary-blue);
        transition: all 0.3s ease;
      }

      /* Styling for the transcription lines */
      .transcript-line {
        padding: 12px 16px;
        position: relative;
      }

      .transcript-line:not(:last-child)::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 16px;
        right: 16px;
        height: 1px;
        background-color: #ecf0f1; /* Light divider line */
      }

      /* Updated Timestamp Color: rgb(75 85 99) */
      .transcript-time {
        color: rgb(75 85 99);
        font-weight: 600;
        margin-bottom: 4px;
      }

      /* Updated Transcript Text Color: rgb(107 114 128) */
      .transcript-text {
        color: rgb(107 114 128);
        line-height: 1.5;
      }

      /* Floating Scroll Button */
      .floating-button {
        position: absolute;
        right: 16px;
        bottom: 120px; /* Above the fixed bottom bar */
        width: 48px;
        height: 48px;
        background-color: white;
        border-radius: 50%;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 10;
      }

      /* Adjusting the fixed bottom bar padding to accommodate the floating button */
      .bottom-actions {
        padding-right: 80px; /* Space for the floating button */
      }
    </style>
  </head>
  <body class="selection:bg-blue-100">
    <div class="mobile-screen">
      <!-- MOCK STATUS BAR -->
      <div
        class="flex justify-between items-center px-4 py-2 text-xs text-gray-500"
      >
        <span class="font-bold">2:17</span>
        <div class="flex items-center space-x-1">
          <i data-lucide="bell" class="w-3 h-3"></i>
          <span class="font-bold">5G</span>
          <i data-lucide="signal" class="w-3 h-3"></i>
          <span class="font-bold">88</span>
          <i data-lucide="battery-full" class="w-3 h-3"></i>
        </div>
      </div>

      <!-- APP HEADER / BACK NAVIGATION - Modified to center the time text -->
      <div class="flex items-center p-4 border-b border-gray-100 relative">
        <!-- Left aligned: Back Button -->
        <button
          class="flex items-center text-lg font-medium text-gray-700 hover:text-blue-600 transition-colors z-10"
        >
          <i data-lucide="chevron-left" class="w-6 h-6 mr-1"></i>
          Back
        </button>
        <!-- Center aligned: Time Text -->
        <span
          class="absolute left-1/2 transform -translate-x-1/2 text-sm font-semibold text-gray-500"
          >5:39:55</span
        >
      </div>

      <!-- MAIN TITLE -->
      <div class="px-4 pt-3 pb-2">
        <h1 class="text-xl font-bold text-gray-700">
          Listening and taking notes...
        </h1>
      </div>

      <!-- TAB NAVIGATION -->
      <div id="tabs" class="relative flex border-b border-gray-200 px-4 mt-2">
        <button
          class="tab-button text-gray-500 py-3 px-4 font-semibold text-sm mr-6 transition-colors hover:text-gray-700"
          data-tab="questions"
        >
          Questions
        </button>
        <button
          class="tab-button text-gray-500 py-3 px-4 font-semibold text-sm mr-6 transition-colors hover:text-gray-700"
          data-tab="notes"
        >
          Notes
        </button>
        <button
          class="tab-button active-tab text-[var(--primary-blue)] py-3 px-4 font-semibold text-sm transition-colors"
          data-tab="transcript"
        >
          Transcript
        </button>
        <div id="indicator" class="tab-indicator"></div>
      </div>

      <!-- TRANSCRIPT CONTENT AREA -->
      <div class="flex-grow overflow-y-auto pt-2 pb-24">
        <div class="transcript-line">
          <div class="transcript-time">08:58</div>
          <p class="transcript-text">
            Pero, pero, no vendo nada. Pero ni una cosa.
          </p>
        </div>

        <div class="transcript-line">
          <div class="transcript-time">08:58</div>
          <p class="transcript-text">
            Pero bueno, y perro malo, es un trueno, como parlo. Pe. ¿Qué?
          </p>
        </div>

        <div class="transcript-line">
          <div class="transcript-time">08:59</div>
          <p class="transcript-text">
            Ya, es que es de allá, ¿verdad? ¿Qué eres tú? La mina truena todo el
            año. En mi corazón hay chispas y rayos y truenos.
          </p>
        </div>

        <div class="transcript-line">
          <div class="transcript-time">08:59</div>
          <p class="transcript-text">de dolor. Vaya.</p>
        </div>

        <div class="transcript-line">
          <div class="transcript-time">09:00</div>
          <p class="transcript-text text-gray-400 italic">...</p>
        </div>

        <!-- Adding extra content to force scroll -->
        <div class="opacity-50 pointer-events-none">
          <div class="transcript-line">
            <div class="transcript-time">09:01</div>
            <p class="transcript-text">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam
              non tellus sed nisl.
            </p>
          </div>
          <div class="transcript-line">
            <div class="transcript-time">09:02</div>
            <p class="transcript-text">
              Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
              Ut enim ad minim veniam.
            </p>
          </div>
          <div class="transcript-line">
            <div class="transcript-time">09:03</div>
            <p class="transcript-text">
              Quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
              commodo consequat.
            </p>
          </div>
        </div>
      </div>

      <!-- FLOATING SCROLL BUTTON -->
      <button
        class="floating-button hover:bg-gray-50 active:bg-gray-100 transition-colors"
        onclick="scrollToBottom()"
      >
        <i data-lucide="arrow-down" class="w-5 h-5 text-gray-500"></i>
      </button>

      <!-- FIXED BOTTOM ACTION BAR -->
      <div
        class="bottom-actions fixed inset-x-0 bottom-0 p-4 bg-white shadow-2xl border-t border-gray-100 w-full max-w-[400px] mx-auto rounded-b-2xl flex justify-center space-x-3"
      >
        <!-- Ask TwinMind Button -->
        <button
          class="flex-1 flex items-center justify-center h-12 bg-white border-2 border-gray-300 text-gray-700 font-semibold rounded-full shadow-sm hover:border-[var(--primary-blue)] transition-all active:scale-[0.98] text-sm"
        >
          <i
            data-lucide="sparkles"
            class="w-4 h-4 mr-2 text-[var(--primary-blue)]"
          ></i>
          Ask TwinMind
        </button>

        <!-- Stop Button -->
        <button
          class="w-20 h-12 flex items-center justify-center bg-[var(--primary-red)] text-white font-semibold rounded-full shadow-md hover:bg-red-600 transition-colors active:scale-[0.98]"
        >
          <i data-lucide="square" class="w-4 h-4"></i>
          <span class="ml-1 text-sm">Stop</span>
        </button>
      </div>
    </div>

    <script>
      // Use document.addEventListener('DOMContentLoaded', ...) to ensure elements are present
      document.addEventListener("DOMContentLoaded", () => {
        // Initialize Lucide icons
        lucide.createIcons();

        const tabButtons = document.querySelectorAll(".tab-button");
        const indicator = document.getElementById("indicator");
        const transcriptContent = document.querySelector(
          ".flex-grow.overflow-y-auto"
        );
        const activeTab = document.querySelector(".active-tab");

        // --- Tab Indicator Logic ---
        function updateIndicator(tab) {
          const tabsContainer = document.getElementById("tabs");
          if (!tab || !tabsContainer) return;

          // Get the container's left position to calculate relative position
          const containerLeft = tabsContainer.getBoundingClientRect().left;
          const tabRect = tab.getBoundingClientRect();

          indicator.style.left = `${tabRect.left - containerLeft}px`;
          indicator.style.width = `${tabRect.width}px`;
        }

        // Set initial position for the active 'Transcript' tab
        updateIndicator(activeTab);

        // Handle tab clicks
        tabButtons.forEach((button) => {
          button.addEventListener("click", () => {
            // Visually activate the new tab
            tabButtons.forEach((btn) => {
              btn.classList.remove("active-tab", "text-[var(--primary-blue)]");
              btn.classList.add("text-gray-500");
            });
            button.classList.add("active-tab", "text-[var(--primary-blue)]");
            button.classList.remove("text-gray-500");

            // Move the indicator
            updateIndicator(button);

            // Optional: Update content (just logging for this clone)
            console.log(`Switched to tab: ${button.getAttribute("data-tab")}`);
          });
        });

        // Re-calculate indicator position on window resize
        window.addEventListener("resize", () => {
          const currentActive = document.querySelector(".active-tab");
          updateIndicator(currentActive);
        });

        // --- Scroll to Bottom Logic (for the floating button) ---
        window.scrollToBottom = function () {
          if (transcriptContent) {
            transcriptContent.scrollTop = transcriptContent.scrollHeight;
          }
        };
      });
    </script>
  </body>
</html>
